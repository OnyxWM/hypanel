2026-01-16: Completed server persistence implementation
- Updated database schema with installState, lastError, jarPath, assetsPath, and serverRoot fields
- Implemented canonical server root at ~/hytale/<id> for hypanel user  
- Added proper ownership/permissions handling via chown/chmod
- Modified ServerManager to restore servers from database on daemon restart
- Tested database schema and server creation functionality
- All PRD steps for server persistence now passing

2026-01-17: Implemented Hytale server installation automation
- Created Installer.ts service class for hytale-downloader integration
- Added installServer method to ServerManager with state management
- Added POST /api/servers/:id/install API endpoint with proper error handling
- Added WebSocket events for real-time installation progress streaming
- Implemented install state machine (NOT_INSTALLED → INSTALLING → INSTALLED/FAILED)
- Added progress tracking with stage updates (queued → downloading → verifying → ready/failed)
- Added robust error handling and retry capability
- Implemented file verification for HytaleServer.jar and Assets.zip
- Prevented concurrent installations per server
- Added comprehensive logging throughout installation process
- TypeScript compilation successful with all type safety checks passing
- Addresses PRD requirement #2: Automate Hytale server installation using bundled official hytale-downloader

2026-01-17: Implemented server configuration management API
- Added PUT /api/servers/:id endpoint for updating server settings after creation
- Created updateServerConfig method in ServerManager with proper validation
- Modified ServerInstance.config to be mutable for runtime updates
- Enhanced database updateServerConfig function with partial update support
- Maintains consistency between database and filesystem config storage
- Supports updating name, IP, port, version, maxMemory, maxPlayers, and other properties
- Added proper error handling for non-existent servers
- TypeScript compilation successful with all type checks passing
- Addresses PRD requirement #3: Server configuration management

2026-01-17: Implemented install progress streaming via websocket
- Added InstallProgress and InstallState types to frontend TypeScript definitions
- Added installServer method to ApiClient for triggering installations
- Created InstallProgressDisplay component with progress bars and stage indicators
- Updated ServerCard to show install state, progress bars, and install/retry buttons
- Added install progress WebSocket event handling to ServersPage and DashboardPage
- Implemented real-time install progress updates with proper error handling
- Supports all install stages: queued, downloading, extracting, verifying, ready, failed
- UI displays install failures with actionable error messages and retry functionality
- WebSocket events properly update server state in real-time across all components
- TypeScript compilation successful with all type safety checks passing
- Addresses PRD requirement #4: Install progress streaming via websocket + UI states

2026-01-17: Implemented concurrent install prevention and idempotent installations
- Added database-based install locking with tryStartInstallation function for atomic operations
- Implemented atomic install state management to prevent race conditions across multiple clients
- Added install recovery logic during daemon startup to handle crashed installations
- Implemented safe retry logic with cleanup of partial installation artifacts
- Added clear error responses for concurrent install requests with actionable messages
- Removed redundant checks in ServerManager and rely on database locking for consistency
- Mark interrupted installations as FAILED with actionable error messages about daemon restart
- Ensure installations survive daemon restarts with proper state recovery and cleanup
- TypeScript compilation successful with all type safety checks passing
- Addresses PRD requirement #5: Prevent concurrent installs and make installs idempotent per server